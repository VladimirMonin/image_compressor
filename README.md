# Image Compressor

Программа для сжатия изображений с поддержкой различных форматов вывода.

## Возможности

- **Поддерживаемые входные форматы:** JPG, JPEG, PNG
- **Поддерживаемые выходные форматы:**
  - HEIF (.heic) - высокая эффективность сжатия
  - WebP (.webp) - хорошая совместимость и качество
  - AVIF (.avif) - новейший формат с максимальным сжатием
- **Интерактивный выбор:** формат сжатия и качество при запуске
- **Пакетная обработка:** рекурсивная обработка папок и подпапок
- **Многопроцессорная обработка:** в main.py для ускорения работы

## Установка

### 1. Клонирование репозитория
```bash
git clone <repository-url>
cd image_compressor
```

### 2. Создание виртуального окружения
```bash
python -m venv .venv
```

### 3. Активация виртуального окружения
**Windows:**
```bash
.venv\Scripts\activate
```

**Linux/macOS:**
```bash
source .venv/bin/activate
```

### 4. Установка зависимостей
```bash
pip install -r requirements.txt
```

## Использование

### Запуск через Python
```bash
# Интерактивная версия
python classes.py

# Многопроцессорная версия (быстрее для больших объемов)
python main.py
```

### Запуск через batch-файл (Windows)
Двойной клик по файлу `run_compressor.bat` или создайте ярлык на рабочем столе.

### Интерактивный режим
Программа предложит:
1. Выбрать формат сжатия (HEIF, WebP или AVIF)
2. Задать качество сжатия (0-100)
3. Указать путь к файлу или папке для обработки

## Создание исполняемого файла

```bash
pyinstaller --onefile --name=compressor classes.py
```

## Системные требования

- Python 3.7+
- Windows/Linux/macOS
- Для Windows: рекомендуется использование `run_compressor.bat`

## Файлы проекта

- `classes.py` - основная программа с интерактивным интерфейсом
- `main.py` - многопроцессорная версия для больших объемов данных
- `run_compressor.bat` - запуск через виртуальное окружение (Windows)
- `requirements.txt` - зависимости

## Примеры использования

### Сжатие одного файла
```
Введите путь к файлу или директории: C:\Pictures\photo.jpg
```

### Сжатие папки с изображениями
```
Введите путь к файлу или директории: C:\Pictures\vacation
```

### Сжатие с перетаскиванием
Перетащите файл или папку в окно консоли программы.

## Поддержка форматов

| Формат | Расширение | Особенности |
|--------|------------|-------------|
| HEIF | .heic | Высокая эффективность, поддержка Apple |
| WebP | .webp | Отличная совместимость, Google |
| AVIF | .avif | Новейший стандарт, максимальное сжатие |

## Лицензия

MIT License